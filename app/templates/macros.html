{% macro render_field(field, label=False, hidden=False, submit=False) %}
{% set class = kwargs.get('class', '') + ' form-control' %}
{% if field.errors %}
	{% set class = class + ' invalid' %}
{% endif %}
{% if hidden %}
	{% set class = class + ' hidden' %}
{% endif %}

<div class="{{class}}">

	{% if label %}
	{{ field.label }}
	{% else %}
	{% set placeholder = field.label.text %}
	{% endif %}

	{{ field(placeholder=placeholder, **kwargs) | safe }}

	{% if submit %}
	<input type="submit" value="Go">
	{% endif %}

	{% if field.errors %}
	<ul class="errors">
	{% for error in field.errors %}
	  	<li>{{ error }}</li>
	{% endfor %}
	</ul>
	{% endif %}

</div>
{% endmacro %}
